'use strict';
module.exports = app => {
  const mongoose = app.mongoose;
  const Schema = mongoose.Schema;

  const SysMenuSchema = new Schema({
    // å‰ç«¯è·¯ç”±åœ°å€
    path: {
      type: String,
      default: '',
      index: 1,
    },
    // åç§°
    name: {
      type: String,
      default: '',
      index: 1,
    },
    // æ ‡é¢˜
    title: {
      type: String,
      default: null,
    },
    // æ˜¯å¦å¤–é“¾
    isLink: {
      type: Boolean,
      default: false,
    },
    // ç»„ä»·
    component: {
      type: String,
      default: '',
    },
    // ç»„ä»¶è·¯å¾„åˆ«å
    componentAlias: {
      type: String,
      default: '',
    },

    // ä¸Šçº§èœå•
    menuSuperior: [{ type: String }],

    // æºä¿¡æ?    meta: {
      title: {
        type: String,
        default: '',
      },
      isLink: {
        type: String,
        default: null,
      },
      isHide: {
        type: Boolean,
        default: false,
      },
      isKeepAlive: {
        type: Boolean,
        default: false,
      },
      isAffix: {
        type: Boolean,
        default: false,
      },
      isIframe: {
        type: Boolean,
        default: false,
      },
      icon: {
        type: String,
        default: '',
      },
      // æ–°å¢å‰ç«¯éœ€è¦çš„å­—æ®µ
      showBadge: {
        type: Boolean,
        default: false,
      },
      showTextBadge: {
        type: String,
        default: '',
      },
      isHideTab: {
        type: Boolean,
        default: false,
      },
      link: {
        type: String,
        default: '',
      },
      keepAlive: {
        type: Boolean,
        default: false,
      },
      authList: [{
        title: String,
        authMark: String
      }],
      isFirstLevel: {
        type: Boolean,
        default: false,
      },
      roles: [String],
      fixedTab: {
        type: Boolean,
        default: false,
      },
      activePath: {
        type: String,
        default: '',
      },
      isFullPage: {
        type: Boolean,
        default: false,
      },
      isAuthButton: {
        type: Boolean,
        default: false,
      },
      authMark: {
        type: String,
        default: '',
      },
      parentPath: {
        type: String,
        default: '',
      }
    },

    // è·¯ç”±é‡å®šå‘ï¼Œæœ‰å­é›?children æ—?    redirect: {
      type: String,
      default: '',
    },

    // èœå•ç±»å‹ä¸ºæŒ‰é’®æ—¶ï¼Œæƒé™æ ‡è¯?    btnPower: {
      type: String,
      default: null,
    },

    routerName: {
      type: String,
      default: '',
    },
    // èœå•ç±»å‹ menun
    menuType: {
      type: String,
      default: 'menu',
    },


    // åç«¯æ¥å£åœ°å€
    servicePath: {
      type: String,
      default: '',
      index: true,
    },
    // æ¥å£ç±»å‹
    servicePathType: {
      type: String,
      default: 'GET',
      index: 1,
    },

    // å¤‡æ³¨ä¿¡æ¯
    remark: {
      type: String,
      default: '',
    },

    // æ’å·é¡ºåº
    menuSort: {
      type: Number,
      default: 0,
    },
    // çŠ¶æ€?    state: {
      type: Number,
      default: 1,
      index: 1,
    },
    // åˆ›å»ºäººid
    createUserId: {
      type: Schema.ObjectId,
      default: null,
    },
    isDelete: {
      type: Boolean,
      default: false,
    },

  }, {
    timestamps: true,
    toObject: { virtuals: true },
    toJSON: { virtuals: true },
  });
  return mongoose.model('SysMenu', SysMenuSchema, 'SysMenu');
};
